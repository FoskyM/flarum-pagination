{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@lrysia/pagination/./src/forum/addUserPreference.js","webpack://@lrysia/pagination/./src/forum/determineMode.js","webpack://@lrysia/pagination/./src/forum/index.js","webpack://@lrysia/pagination/external root \"flarum.core.compat['common/components/Button']\"","webpack://@lrysia/pagination/external root \"flarum.core.compat['common/components/FieldSet']\"","webpack://@lrysia/pagination/external root \"flarum.core.compat['common/components/Placeholder']\"","webpack://@lrysia/pagination/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@lrysia/pagination/external root \"flarum.core.compat['common/extend']\"","webpack://@lrysia/pagination/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@lrysia/pagination/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@lrysia/pagination/external root \"flarum.core.compat['components/DiscussionComposer']\"","webpack://@lrysia/pagination/external root \"flarum.core.compat['components/DiscussionList']\"","webpack://@lrysia/pagination/external root \"flarum.core.compat['components/DiscussionListItem']\"","webpack://@lrysia/pagination/external root \"flarum.core.compat['extend']\"","webpack://@lrysia/pagination/external root \"flarum.core.compat['forum/app']\"","webpack://@lrysia/pagination/external root \"flarum.core.compat['forum/components/SettingsPage']\"","webpack://@lrysia/pagination/external root \"flarum.core.compat['states/DiscussionListState']\"","webpack://@lrysia/pagination/external root \"flarum.core.compat['utils/DiscussionControls']\"","webpack://@lrysia/pagination/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@lrysia/pagination/webpack/bootstrap","webpack://@lrysia/pagination/webpack/runtime/compat get default export","webpack://@lrysia/pagination/webpack/runtime/define property getters","webpack://@lrysia/pagination/webpack/runtime/hasOwnProperty shorthand","webpack://@lrysia/pagination/webpack/runtime/make namespace object","webpack://@lrysia/pagination/./forum.js"],"sourcesContent":["import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport SettingsPage from 'flarum/forum/components/SettingsPage';\nimport FieldSet from 'flarum/common/components/FieldSet';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Switch from 'flarum/common/components/Switch';\nimport Stream from 'flarum/common/utils/Stream';\n\nexport default function () {\n  extend(SettingsPage.prototype, 'oninit', function () {\n    this.DLP_UserCustom = Stream(this.user.preferences().DLP_UserCustom);\n    this.DLP_UserPaginationFirst = Stream(this.user.preferences().DLP_UserPaginationFirst);\n  });\n\n  extend(SettingsPage.prototype, 'settingsItems', function (items) {\n    if (Boolean(app.forum.attribute('LrysiaPagination.CanUserPref'))) {\n      items.add(\n        'Lrysia_DLP_User',\n        FieldSet.component(\n          {\n            label: app.translator.trans('Lrysia-DLP.forum.user.settings.Head'),\n            className: 'Lrysia_DLP_PrefSettings',\n          },\n          this.Lrysia_DLP_UserPrefItems().toArray()\n        )\n      );\n    }\n  });\n\n  SettingsPage.prototype['Lrysia_DLP_UserPrefItems'] = function () {\n    const items = new ItemList();\n    items.add(\n      'Lrysia_DLP_UserCustom',\n      Switch.component(\n        {\n          state: this.user.preferences().DLP_UserCustom,\n          onchange: (value) => {\n            this.UserCustomLoading = true;\n            this.user.savePreferences({ DLP_UserCustom: value }).then(() => {\n              this.UserCustomLoading = false;\n              m.redraw();\n            });\n          },\n          loading: this.UserCustomLoading,\n        },\n        app.translator.trans('Lrysia-DLP.forum.user.settings.DLP_UserCustom')\n      )\n    );\n\n    if (this.user.preferences().DLP_UserCustom) {\n      items.add(\n        'Lrysia_DLP_UserPaginationFirst',\n        Switch.component(\n          {\n            state: this.user.preferences().DLP_UserPaginationFirst,\n            onchange: (value) => {\n              this.UserPaginationFirstLoading = true;\n              this.user.savePreferences({ DLP_UserPaginationFirst: value }).then(() => {\n                this.UserPaginationFirstLoading = false;\n                m.redraw();\n              });\n            },\n            loading: this.UserPaginationFirstLoading,\n          },\n          app.translator.trans('Lrysia-DLP.forum.user.settings.DLP_UserPaginationFirst')\n        )\n      );\n    }\n\n    return items;\n  };\n}\n","import app from 'flarum/forum/app';\n\n\nexport default function () {\n\n  if (Boolean(app.forum.attribute('LrysiaPagination.CanUserPref'))) {\n    if (!Boolean(app.session.user.preferences().DLP_UserCustom)) {\n      if (!Boolean(app.forum.attribute('LrysiaPagination.PaginationFirst'))) {\n        return false;\n      }\n    } else {\n      if (!Boolean(app.session.user.preferences().DLP_UserPaginationFirst)) {\n        return false;\n      }\n    }\n  } else {\n    if (!Boolean(app.forum.attribute('LrysiaPagination.PaginationFirst'))) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import {extend, override} from 'flarum/extend';\nimport DiscussionList from 'flarum/components/DiscussionList';\nimport DiscussionListState from 'flarum/states/DiscussionListState';\nimport DiscussionListItem from 'flarum/components/DiscussionListItem';\nimport Placeholder from 'flarum/common/components/Placeholder';\nimport Button from 'flarum/common/components/Button';\nimport Stream from 'flarum/common/utils/Stream';\nimport DiscussionComposer from 'flarum/components/DiscussionComposer';\nimport DiscussionControls from 'flarum/utils/DiscussionControls';\n\nimport addUserPreference from \"./addUserPreference\";\nimport determineMode from \"./determineMode\";\n\n\napp.initializers.add('lrysia/pagination', () => {\n\n  // Add user preferences components\n  addUserPreference();\n\n  override(DiscussionListState.prototype, 'refresh', function (original) {\n\n    // params set by lrysia/pagination\n    this.options = {\n      perPage: Number(app.forum.attribute('LrysiaPagination.PerPage')),\n      perLoadMore: Number(app.forum.attribute('LrysiaPagination.PerLoadMore')),\n      perIndexInit: Number(app.forum.attribute('LrysiaPagination.PerIndexInit')),\n      leftEdges: 4,\n      rightEdges: 5,\n    };\n\n    // get the final loading mode\n    this.usePaginationMode = determineMode();\n\n    //\n    if (!this.usePaginationMode) {\n      this.pageSize = this.options.perLoadMore;\n      return original(arguments[1]);\n    }\n\n    this.initialLoading = true;\n    this.loadingPrev = false;\n    this.loadingNext = false;\n\n    // Modified by BlockCat\n    let page = arguments[1] || 1;\n\n    this.clear();\n\n    //\n    this.location = {page};\n\n    return this.loadPage(page)\n      .then((results) => {\n        this.pages = [];\n        this.parseResults(this.location.page, results);\n      })\n      .finally(() => (this.initialLoading = false));\n\n  });\n\n\n  override(DiscussionListState.prototype, 'loadPage', function (original) {\n\n    const page = arguments[1] === undefined ? 1 : arguments[1];\n    const reqParams = this.requestParams();\n\n    const include = Array.isArray(reqParams.include) ? reqParams.include.join(',') : reqParams.include;\n\n    let newOffset, newLimit;\n\n    if (this.usePaginationMode) {\n      newOffset = this.options.perPage * (page - 1);\n      newLimit = this.options.perPage;\n    }\n    else{\n      newOffset = this.options.perIndexInit * (Math.min((page - 1), 1))\n        + this.options.perLoadMore * (Math.max((page - 2), 0));\n      newLimit = (newOffset == 0) ? this.options.perIndexInit : this.options.perLoadMore;\n    }\n\n    const params = {\n      ...reqParams,\n      page: {\n        ...reqParams.page,\n        // request params(SQL-query) replaced by lrysia/pagination\n        offset: newOffset,\n        limit: newLimit\n      },\n      include,\n    };\n\n    return app.store.find(this.type, params);\n\n  });\n\n\n  override(DiscussionListState.prototype, 'parseResults', function (original) {\n\n    if (!this.usePaginationMode) {\n      return original(arguments[1], arguments[2]);\n    }\n\n    // get page number from arguments of\n    // parseResults(this, page, results)\n    const pageNum = Number(arguments[1]);\n\n    // get links from arguments of\n    // parseResults(this, page, results)\n    const links = arguments[2].payload?.links || {};\n\n    // create page by following structure\n    const page = {\n      number: pageNum,\n      items: arguments[2],\n      hasNext: !!links?.next,\n      hasPrev: !!links?.prev,\n    };\n\n    // declare a function to check if\n    // page already registred\n    this.hasPage = function (page) {\n      let allPages = this.getPages();\n      if (allPages.length == 0) return false;\n      for (let i = 0; i < allPages.length; i++) {\n        if (allPages[i].number == page) return true;\n      }\n      return false;\n    };\n\n    // if page doesn't registred yet,\n    // then page will added\n    if (!this.hasPage(pageNum)) {\n      this.pages.push(page);\n    }\n\n    // refresh current location\n    this.location = {page: pageNum};\n\n\n\n    // ATTENTION! THIS IS THE CORE OF lrysia/pagination(1.0.0)\n    // Total number of discussions matching this SQL-query\n    // (this interface is implemented by overriding the Flarum's backend source code)\n    this.totalDiscussionCount = Stream(arguments[2].payload.jsonapi.totalResultsCount);\n    // If you want to know more details,\n    // please look the PHP files in pagination/src and\n    // the 'autoload' module in pagination/composer.json\n\n\n\n    //\n    this.getTotalPages = function () {\n      return Math.ceil(this.totalDiscussionCount() / this.options.perPage)\n    };\n\n    //\n    this.page = Stream(page);\n    this.perPage = Stream(this.options.perPage);\n    this.totalPages = Stream(this.getTotalPages());\n\n    // functions for pagination\n    this.ctrl = {\n\n      prevPage: function () {\n        let current = this.page().number;\n        --current;\n\n        if (current < 1) {\n          return; // do not load if at the begin\n        }\n\n        this.page(current);\n        let next = current;\n        this.loadPage(next).then(this.parseResults.bind(this, next));\n      }.bind(this),\n\n      nextPage: function () {\n        let current = this.page().number;\n        ++current;\n\n        if (current > (this.totalPages())) {\n          current = (this.totalPages()); // do not load if at the end\n          return;\n        }\n\n        this.page(current);\n        let next = current;\n        this.loadPage(next).then(this.parseResults.bind(this, next));\n      }.bind(this),\n\n      toPage: function (page) {\n        if (this.page().number == Number(page) || page < 1 || page > this.totalPages()) return;\n\n        this.page(Number(page));\n        let next = Number(page);\n\n        this.loadPage(next).then(this.parseResults.bind(this, next));//.then(this.preLoadNextDiscussionPage(next + 1));\n      }.bind(this),\n\n      pageList: function () {\n        //\n        let p = [],\n          left = Math.max(parseInt(this.page().number) - this.options.leftEdges, 1),\n          right = Math.min(parseInt(this.page().number) + this.options.rightEdges, this.totalPages())\n\n        //\n        for (let i = left; i <= right; i++) {\n          p.push(i);\n        }\n\n        return p;\n      }.bind(this)\n\n    };\n\n    m.redraw();\n  });\n\n  extend(DiscussionList.prototype, 'view', function (view) {\n\n    // info about discussions\n    const state = this.attrs.state;\n\n    if (!state.usePaginationMode) {\n      return;\n    }\n\n    const params = state.getParams();\n\n    //\n    let DiscussionListView;\n\n    //\n    if (state.isEmpty()) {\n      const text = app.translator.trans('core.forum.discussion_list.empty_text');\n      DiscussionListView = (\n        Placeholder.component({text})\n      );\n      view.children = [];\n      view.children.push(DiscussionListView);\n      return;\n    }\n\n    //\n    if (!state.isLoading()) {\n\n      let dicussionsOnPage = [];\n      const pages = state.getPages();\n\n      //\n      for (let index = 0; index < pages.length; index++) {\n        const page = pages[index];\n        if (page.number == state.location.page) {\n          page.items.map((discussion) => {\n            dicussionsOnPage.push(\n              <li key={discussion.id()} data-id={discussion.id()}>\n                {DiscussionListItem.component({discussion, params})}\n              </li>\n            );\n          });\n          break;\n        }\n      }\n\n      //\n      DiscussionListView = (\n        <ul className=\"DiscussionList-discussions\">\n          {dicussionsOnPage.map((i) => i)}\n        </ul>\n      );\n\n      //\n      view.children = [];\n      view.children.push(DiscussionListView);\n\n\n      // define buttons\n      let buttonFirst = Button.component({\n        title: \"First\",\n        icon: 'fa fa-angle-double-left',\n        className: 'Button Button--icon',\n        onclick: () => {\n          state.ctrl.toPage(1);\n        }\n      });\n      let buttonBack = Button.component({\n        title: \"Back\",\n        icon: 'fa fa-angle-left',\n        className: 'Button Button--icon',\n        onclick: () => {\n          let page = state.page().number;\n          state.ctrl.toPage(parseInt(page) - 1);\n        }\n      });\n      let buttonNext = Button.component({\n        title: \"Next\",\n        icon: 'fa fa-angle-right',\n        className: 'Button Button--icon',\n        onclick: () => {\n          let page = state.page().number;\n          state.ctrl.toPage(parseInt(page) + 1);\n        }\n      });\n      let buttonLast = Button.component({\n        title: \"Last\",\n        icon: 'fa fa-angle-double-right',\n        className: 'Button Button--icon',\n        onclick: () => {\n          let page = parseInt(state.totalPages());\n          state.ctrl.toPage(parseInt(page));\n        }\n      });\n\n      //\n      function JumpFunc(){\n        let input = parseInt(document.getElementById('lrysia-inputJump').value);\n        // 跳转前检查页码合法性\n        if (Number.isFinite(input) && Number.isSafeInteger(input)) {\n          if (input != state.page().number) {\n            if (1 <= input && input <= state.totalPages()) {\n              state.ctrl.toPage(input);\n            }\n          }\n        }\n      }\n      let inputJump = m('input.FromControl', {\n        id: 'lrysia-inputJump',\n        placeholder: state.page().number === undefined ? '' : `${state.page().number}`,\n        onkeydown: (event) => {\n          event.redraw = false;\n          if(event.keyCode == 13){\n            event.redraw = true;\n            JumpFunc();\n          }\n        }\n      });\n      let buttonJump = Button.component({\n        title: \"Jump\",\n        icon: 'fas fa-paper-plane',\n        className: 'Button Button--icon',\n        onclick: JumpFunc\n      });\n\n      //\n      let buttonPage = [];\n      let buttons;\n      let toolbar;\n\n      //\n      state.ctrl.pageList().map(function (page) {\n        let me = this;\n        buttonPage.push(Button.component({\n          title: parseInt(page),\n          icon: '',\n          className: (page == me.page().number) ? 'Button Button--primary' : 'Button',\n          'data-page': page,\n          onclick: (page != me.page().number) ? () => {\n            me.ctrl.toPage(parseInt(page));\n          } : ''\n        }, m('strong', {className: ''}, parseInt(page))));\n      }, state);\n\n      //\n      buttons = [buttonFirst].concat(buttonBack, buttonPage, buttonNext, buttonLast,\n        inputJump, buttonJump);\n\n      //\n      toolbar = {\n        view: function (vnode) {\n          return m('div', {id: 'toolbar' + Math.floor((Math.random() * 10) + 1), className: 'Pagination'},\n            m('ul', {class: 'IndexPage-toolbar-view'}, vnode.attrs.groupbuttons.map((ibutton) => {\n              return m('li', {class: ''}, ibutton);\n            }))\n          );\n        }\n      }\n\n      //\n      app.forum.attribute('LrysiaPagination.NavBarPosition') == 'above' && !state.isLoading()\n        ? view.children.unshift(m(toolbar, {groupbuttons: buttons})) : '';\n      app.forum.attribute('LrysiaPagination.NavBarPosition') == 'under' && !state.isLoading()\n        ? view.children.push(m(toolbar, {groupbuttons: buttons})) : '';\n      app.forum.attribute('LrysiaPagination.NavBarPosition') == 'both' && !state.isLoading()\n        ? view.children.unshift(m(toolbar, {groupbuttons: buttons}))\n        && view.children.push(m(toolbar, {groupbuttons: buttons})) : '';\n\n    }\n\n  });\n\n  // clear\n  extend(DiscussionControls, 'deleteAction', function () {\n\n    if (!this.usePaginationMode) {\n      return;\n    }\n\n    if (app.discussions) {\n      let page = app.discussions.location.page;\n      app.discussions.refresh(page);\n    }\n\n  });\n\n  extend(DiscussionComposer.prototype, 'onsubmit', function () {\n\n    if (!this.usePaginationMode) {\n      return;\n    }\n\n    if (app.discussions) {\n      // let page = app.discussions.location.page;\n      app.discussions.refresh();\n    }\n\n  });\n\n\n});\n","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/FieldSet'];","module.exports = flarum.core.compat['common/components/Placeholder'];","module.exports = flarum.core.compat['common/components/Switch'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['common/utils/ItemList'];","module.exports = flarum.core.compat['common/utils/Stream'];","module.exports = flarum.core.compat['components/DiscussionComposer'];","module.exports = flarum.core.compat['components/DiscussionList'];","module.exports = flarum.core.compat['components/DiscussionListItem'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['forum/app'];","module.exports = flarum.core.compat['forum/components/SettingsPage'];","module.exports = flarum.core.compat['states/DiscussionListState'];","module.exports = flarum.core.compat['utils/DiscussionControls'];","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export * from './src/forum';\n"],"names":["app","extend","SettingsPage","FieldSet","ItemList","Switch","Stream","prototype","DLP_UserCustom","user","preferences","DLP_UserPaginationFirst","items","Boolean","forum","attribute","add","component","label","translator","trans","className","Lrysia_DLP_UserPrefItems","toArray","state","onchange","value","UserCustomLoading","savePreferences","then","m","redraw","loading","UserPaginationFirstLoading","session","override","DiscussionList","DiscussionListState","DiscussionListItem","Placeholder","Button","DiscussionComposer","DiscussionControls","addUserPreference","determineMode","initializers","original","options","perPage","Number","perLoadMore","perIndexInit","leftEdges","rightEdges","usePaginationMode","pageSize","arguments","initialLoading","loadingPrev","loadingNext","page","clear","location","loadPage","results","pages","parseResults","undefined","reqParams","requestParams","include","Array","isArray","join","newOffset","newLimit","Math","min","max","params","offset","limit","store","find","type","pageNum","links","payload","number","hasNext","next","hasPrev","prev","hasPage","allPages","getPages","length","i","push","totalDiscussionCount","jsonapi","totalResultsCount","getTotalPages","ceil","totalPages","ctrl","prevPage","current","bind","nextPage","toPage","pageList","p","left","parseInt","right","view","attrs","getParams","DiscussionListView","isEmpty","text","children","isLoading","JumpFunc","input","document","getElementById","isFinite","isSafeInteger","dicussionsOnPage","index","map","discussion","id","buttonFirst","title","icon","onclick","buttonBack","buttonNext","buttonLast","inputJump","placeholder","onkeydown","event","keyCode","buttonJump","buttonPage","buttons","toolbar","me","concat","vnode","floor","random","groupbuttons","ibutton","unshift","discussions","refresh","_extends","Object","assign","target","source","key","hasOwnProperty","call","apply"],"sourceRoot":""}